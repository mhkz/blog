---
title: 组件的本质&产出
date: 2020-06-24
---
前端目前用的最多的就是`Vue`或`React`框架。提倡的是组件化开发，日常工作任务就是写一个个的组件，然后进行拼装，最后组成一个完整的项目。

面试也会经常问到，Vue组件的**本质**是什么，或者说组件的**产出**是什么。

## 组件的本质
在`JQuery`时代，有个很流行的东西，叫做`模板引擎`，已`lodash.template`为例:
```js
import { template } from 'lodash'

const compiler = template('<h1><%= title %></h1>')
const html = compiler({ title: 'hello world' })

document.body.innerHTML = html
```
当数据改变时，重新编译一下：
```js
const newHTML = compiler({ title: '你好，世界' })
```
如果吧上面的逻辑用一个函数封装一下，这样一个组件就诞生了。
```js
import { template } from 'lodash'

const h1Com = props => {
  const compiler = template('<h1><%= title %></h1>')
  return compiler(props)
}

document.body.innerHTML = h1Com({ title: 'hello world' })
```
一个组件就是一个函数，传入不同的数据，得到不同的html。如今的像Vue，React等，本质上都是函数。<br/>
所以结论：**组件的本质是函数**

## 组件的产出
上面模板引擎组件产出的是html字符串。<br/>

而如今的像Vue和React组件的本质没变，但是产出变了，**产出变成了虚拟DOM**。至于为何要这么搞，可以看一下尤雨溪在知乎的一篇回答，了解一下虚拟DOM的好处。<br/>
[网上都说操作真实 DOM 慢，但测试结果却比 React 更快，为什么？](https://www.zhihu.com/question/31809713/answer/53544875)

结论：**Vue组件的产出是虚拟DOM**