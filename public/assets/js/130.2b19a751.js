(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{711:function(a,t,s){"use strict";s.r(t);var n=s(5),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"servlet-匹配规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#servlet-匹配规则"}},[a._v("#")]),a._v(" Servlet 匹配规则")]),a._v(" "),s("p",[a._v("Servlet 匹配规则"),s("strong",[a._v("不是简单的通配，也不是正则表达式")]),a._v("，所以要注意 url-pattern 的区分")]),a._v(" "),s("h3",{attrs:{id:"精确匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#精确匹配"}},[a._v("#")]),a._v(" 精确匹配")]),a._v(" "),s("p",[a._v("直接拿要匹配到的完整路径比如"),s("br"),a._v(" "),s("code",[a._v("http://localhost:8080/a/b/c/d.html")]),s("br"),a._v("\n优先级最高")]),a._v(" "),s("h3",{attrs:{id:"路径匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路径匹配"}},[a._v("#")]),a._v(" 路径匹配")]),a._v(" "),s("p",[a._v("用 "),s("code",[a._v("*")]),a._v(" 来指代后面的所有内容"),s("br"),a._v(" "),s("code",[a._v("/a/*")]),a._v("  会匹配到 "),s("code",[a._v("/a")]),a._v(" 下的"),s("strong",[a._v("所有")]),a._v("路径，包括 "),s("code",[a._v("/a/b/c/d.html")]),s("br"),a._v("\n优先级第二高")]),a._v(" "),s("h3",{attrs:{id:"扩展名匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展名匹配"}},[a._v("#")]),a._v(" 扩展名匹配")]),a._v(" "),s("p",[a._v("用 "),s("code",[a._v("*.<后缀名>")]),a._v(" 完成匹配"),s("br"),a._v(" "),s("code",[a._v("*.jsp")]),a._v(" 会匹配到所有后缀为 "),s("code",[a._v(".jsp")]),a._v(" 的路径，包括 "),s("code",[a._v("/a/b/c/e.jsp")])]),a._v(" "),s("h3",{attrs:{id:"缺省匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缺省匹配"}},[a._v("#")]),a._v(" 缺省匹配")]),a._v(" "),s("p",[s("code",[a._v("/")]),a._v(" ，包含所有路径，但是优先级非常非常低，不会覆盖已经写好的匹配内容")]),a._v(" "),s("h3",{attrs:{id:"优先顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优先顺序"}},[a._v("#")]),a._v(" 优先顺序")]),a._v(" "),s("p",[a._v("精确路径 > 最长路径 > 较短路径 > 扩展名 >> 缺省匹配 "),s("code",[a._v("/")])]),a._v(" "),s("h2",{attrs:{id:"通配符匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通配符匹配"}},[a._v("#")]),a._v(" 通配符匹配")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("?")]),a._v("：匹配到一个字符")]),a._v(" "),s("li",[s("code",[a._v("*")]),a._v("：匹配 0 到多个字符"),s("br"),a._v("但比如 "),s("code",[a._v("/a/*")]),a._v(" 只能匹配到下一级目录的文件，并不能跨域 "),s("code",[a._v("/")])]),a._v(" "),s("li",[s("code",[a._v("**")]),a._v("：匹配某个路径下的任意文件"),s("br"),a._v("比如 "),s("code",[a._v("/a/**")]),a._v(" 可以匹配到 "),s("code",[a._v("/a/b/c/d.html")])])]),a._v(" "),s("h2",{attrs:{id:"aop-切入点表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aop-切入点表达式"}},[a._v("#")]),a._v(" AOP 切入点表达式")]),a._v(" "),s("p",[a._v("由几部分组成：动作关键字、访问修饰符（可以省略）、返回值、包名、类/接口名、方法名、参数、异常名（可以省略）\n比如例子就是")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@execution")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("snopzyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),a._v("UserService")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("findByNo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("切入点表达式")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("\\*")]),a._v("：匹配单个独立的任意符号（必须要有）")])]),a._v(" "),s("p"),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("execution")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("snopzyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("UserService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("find"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("匹配 com.snopzyz 包下任意包中的 UserService 类或接口中所有 find 开头的带有一个参数的方法")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("..")]),a._v("：匹配多个连续的任意符号（可以没有）")])]),a._v(" "),s("p"),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("execution")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),a._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("UserService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("findById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("匹配 com 包下的任意包中的 UserService 类或接口中所有名称为 findById 的方法")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("+")]),a._v("：专用于匹配子类类型")])]),a._v(" "),s("p"),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("execution")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("*"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Service")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("匹配任意包下的以 Service 结尾的子类或中任意名称任意参数任意返回值的方法")]),a._v(" "),s("p",[a._v("再来看个疯狂的")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("execution")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("表示匹配任意包下任意类的任意参数任意返回值的方法，也就是所有方法（一般不这么写")]),a._v(" "),s("p",[a._v("有个常用的")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("execution")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("snopzyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("*"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("find"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("给所有 com.snopzyz 下的业务层类的 find 开头方法加 AOP")])])}),[],!1,null,null,null);t.default=e.exports}}]);